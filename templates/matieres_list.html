{% extends "base.html" %} {% block content %}
<h1>Liste des matières</h1>
<a href="{{ url_for('admin.add_matiere') }}" class="btn">Ajouter une matière</a>

{% if matieres %}
<table>
  <thead>
    <tr>
      <th>Nom</th>
      <th>Description</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for matiere in matieres %}
    <tr>
      <td>{{ matiere['nom'] }}</td>
      <td>{{ matiere['description'] }}</td>
      <td>
        <a href="{{ url_for('admin.edit_matiere', matiere_id=matiere['_id']) }}"
          >Modifier</a
        >
        <form
          method="POST"
          action="{{ url_for('admin.delete_matiere', matiere_id=matiere['_id']) }}"
          style="display: inline"
          onsubmit="return confirm('Confirmer la suppression ?');"
        >
          <button type="submit">Supprimer</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>Aucune matière enregistrée.</p>
{% endif %} {% endblock %}
